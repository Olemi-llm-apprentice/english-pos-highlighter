# 使用方法

## 基本機能

### 1. 品詞別色分け表示

拡張機能がインストールされると、英語のWebページ上のテキストが自動的に品詞ごとに色分けされます。

**色分けルール：**
- **動詞**: 青色
- **名詞**: 緑色
- **形容詞**: オレンジ色
- **副詞**: 紫色
- **前置詞**: 茶色
- **接続詞**: グレー色
- **代名詞**: オレンジ系
- **限定詞**: ダークグレー色

### 2. マウスオーバー辞書

単語の上にマウスカーソルを置くと、その単語の詳細情報が表示されます。

**表示される情報：**
- 発音記号
- 意味（日本語）
- 例文
- 音声再生ボタン（利用可能な場合）

![マウスオーバー辞書](screenshots/dictionary-hover.png)

### 3. 翻訳機能

テキストを選択して右クリックすると、コンテキストメニューから翻訳機能を利用できます。

**使用手順：**
1. 翻訳したいテキストを選択
2. 右クリックしてコンテキストメニューを表示
3. 「英語を日本語に翻訳」を選択
4. 翻訳結果がポップアップで表示されます

![翻訳機能](screenshots/translation-menu.png)

## ポップアップメニュー

ブラウザのツールバーにある拡張機能アイコンをクリックすると、設定画面が開きます。

### 利用可能な設定

#### 1. 色分け設定
- **有効/無効切り替え**: 品詞別色分けのオン・オフ
- **色のカスタマイズ**: 各品詞の表示色を変更

#### 2. 辞書設定
- **マウスオーバー辞書**: ホバー時の辞書表示のオン・オフ
- **表示時間**: 辞書情報の表示時間を調整
- **表示位置**: 辞書ポップアップの表示位置を設定

#### 3. 翻訳設定
- **APIキー設定**: OpenAI APIキーの入力
- **翻訳言語**: 翻訳先言語の選択（デフォルト：日本語）
- **翻訳速度**: 翻訳処理の速度設定

## 高度な使用方法

### キーボードショートカット

| 機能 | ショートカット | 説明 |
|------|----------------|------|
| 色分け切り替え | `Ctrl + Shift + C` | 品詞別色分けのオン・オフ |
| 辞書切り替え | `Ctrl + Shift + D` | マウスオーバー辞書のオン・オフ |
| 選択テキスト翻訳 | `Ctrl + Shift + T` | 選択中のテキストを翻訳 |

### 除外サイト設定

特定のWebサイトで拡張機能を無効にしたい場合：

1. ポップアップメニューを開く
2. 「サイト設定」タブをクリック
3. 「このサイトを除外」をクリック
4. 除外リストから削除する場合は、設定画面の除外リストから削除

### データのバックアップとリストア

設定データをバックアップ・復元することができます：

**バックアップ：**
1. ポップアップメニューの「設定」タブを開く
2. 「データのエクスポート」をクリック
3. JSONファイルがダウンロードされます

**リストア：**
1. ポップアップメニューの「設定」タブを開く
2. 「データのインポート」をクリック
3. バックアップしたJSONファイルを選択

## トラブルシューティング

### よくある問題と解決方法

#### 色分けが表示されない
1. ページの再読み込みを試す
2. 拡張機能が有効になっているか確認
3. サイトが除外リストに入っていないか確認

#### 辞書が表示されない
1. インターネット接続を確認
2. Dictionary APIが利用可能か確認
3. ブラウザコンソールでエラーがないか確認

#### 翻訳機能が動作しない
1. OpenAI APIキーが正しく設定されているか確認
2. APIキーの利用制限に達していないか確認
3. インターネット接続を確認

#### パフォーマンスの問題
- 大きなWebページでは処理に時間がかかる場合があります
- 不要な機能を無効にして軽量化を図ってください
- メモリ使用量が気になる場合は、タブを閉じるか拡張機能を一時的に無効にしてください

## サポート

問題が解決しない場合は、以下の方法でサポートを受けることができます：

1. [GitHub Issues](https://github.com/yourusername/english-learning-extension-v3/issues) で報告
2. ブラウザコンソールのエラーメッセージをコピーして添付
3. 使用環境（ブラウザバージョン、OS）を明記
